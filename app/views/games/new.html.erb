<div class="container">
  <p>
    Una versione non ufficiale di
    <a href="https://cardsagainsthumanity.com">Carte Contro L'umanit√†</a>
  </p>

  <% if @current_player %>
    <p>Hey <%= @current_player %>.</p>

    <% if @current_player.game %>
      <%= link_to 'Torna al gioco',
        @current_player.game,
        class: 'btn btn-primary btn-lg btn-block mb-2'
      %>
    <% end %>
  <% end %>

  <%= form_with model: @game do |form| %>
    <%= form.submit 'Inizia un nuovo gioco',
      class: 'btn btn-primary btn-lg btn-block'
    %>

    <div class="mt-3" data-controller="options">
      <a href="#" data-action="click->options#toggle" data-target="options.link">
        Clicca qui per opzioni aggiuntive
      </a>

      <div class="collapse mt-2" data-target="options.list">
        <%= form.collection_check_boxes :options, @options, :code, :to_s do |option| %>
          <div class="form-check">
            <%= option.check_box class: 'form-check-input' %>
            <p>
              <strong><%= option.label class: 'form-check-label' %>:</strong>
              <%= option.object.description %>
            </p>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <div class="mt-3">
    <p>Oppure unisciti ad una partita in corso:</p>

    <%= form_with scope: :game, url: find_games_path, class: 'form-inline' do |form| %>

      <div class="form-group mb-0 mr-2">
        <%= form.text_field :slug, class: 'form-control', placeholder: 'Codice (es. ABC123)' %>
      </div>

      <%= form.submit 'Unisciti', class: 'btn btn-primary ' %>
    <% end %>
  </div>
</div>
